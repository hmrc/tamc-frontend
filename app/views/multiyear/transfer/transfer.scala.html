@*
 * Copyright 2021 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import models.Gender
@import play.twirl.api.Html
@import views.helpers.LanguageUtils
@import uk.gov.hmrc.play.views.html._
@import models.auth.AuthenticatedUserRequest

@this(
main: templates.tamc_main,
formErrorNotificationView: templates.form_error_notification,
inputView: templates.input,
inputRadioGroupView: templates.input_radio_group)

@(recipientForm: Form[models.RecipientDetailsFormInput])(
implicit messages: Messages,
request: AuthenticatedUserRequest[_],
formPartialRetriever: uk.gov.hmrc.play.partials.FormPartialRetriever)


@main(
title = Messages("title.application.pattern", Messages("title.transfer")),
mainConfig = views.helpers.MainConfig(
maybeMainDataAttributes = Some(Html(s"data-journey=${LanguageUtils().formPageDataJourney("marriage-allowance:stage:transfer", recipientForm)}")))
) {

    <a href="@controllers.routes.EligibilityController.doYouWantToApply" class="link-back">@Html(Messages("generic.back"))</a>

    @formErrorNotificationView(recipientForm)
    <header class="page-heading">
        <h1 class="heading-xlarge">@Html(Messages("pages.form.h1"))</h1>
    </header>
    <p>@Html(Messages("pages.form.details"))</p>

    @helpers.form(action = routes.TransferController.transferAction, args = ('id -> "register-form")) {
        <fieldset>
            <div class="form-group">
                @inputView(recipientForm("name"),
                '_label -> Html(Messages("pages.form.field.name")),
                '_labelClass -> "form-label",
                '_inputClass -> "form-control",
                '_dataAttributes -> "autocomplete=off"
                )
            </div>
            <div class="form-group">
                @inputView(recipientForm("last-name"),
                '_label -> Html(Messages("pages.form.field.last-name")),
                '_labelClass -> "form-label",
                '_inputClass -> "form-control",
                '_dataAttributes -> "autocomplete=off"
                )
            </div>
            <div class="form-group">
                @inputRadioGroupView(
                recipientForm("gender"),
                Seq((Gender("M").gender, Messages("pages.form.field.gender.male")), (Gender("F").gender,
                Messages("pages.form.field.gender.female"))),
                '_legend -> Html(Messages("pages.form.field.gender")),
                '_labelClass -> "block-label",
                '_labelAfter -> true,
                '_fieldHelper -> Html(Messages("pages.form.field-helper.gender")),
                '_groupClass -> "inline spacingBottom"
                )
            </div>
            <div class="form-group">
                @inputView(recipientForm("nino"),
                '_label -> Html(Messages("pages.form.field.nino")),
                '_labelClass -> "form-label",
                '_inputClass -> "form-control",
                '_fieldHelper -> Html(Messages("pages.form.field-helper.nino-example")),
                '_dataAttributes -> "autocomplete=off"
                )
            </div>
        </fieldset>

        <details role="group">
            <summary><span class="summary">@Html(Messages("pages.form.field-helper.nino-where"))</span></summary>
            <div class="panel-indent">
                <p>@Html(Messages("pages.form.field-helper.nino-found"))</p>
            </div>
        </details>

        <div class="form-group">
            <div class="notice">
                <i class="icon icon-important">
                    <span class="visually-hidden">@Html(Messages("pages.form.field.warning-hidden"))</span>
                </i>
                <p class="icon-important-text ">@Html(Messages("pages.form.field.warning"))</p>
            </div>
        </div>

        <button class="button" type="submit" data-journey-click="marriage-allowance:button:recipient_continue">
            @Html(Messages("generic.continue"))
        </button>

    }
}